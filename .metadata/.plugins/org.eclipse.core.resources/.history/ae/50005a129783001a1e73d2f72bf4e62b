package dev.wsd.daos;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.ArrayList;

import dev.wsd.entities.Reimbursement;
import dev.wsd.enums.REIMBURSEMENT_STATUS;
import dev.wsd.utils.DBConnectionUtil;

public class ReimbursementDAO {

	public static IReimbursementDAO ReimbursementDAOImp = new IReimbursementDAO() {

		@Override
		public ArrayList<Reimbursement> getAllReimbursements() {
			// TODO Auto-generated method stub
			return null;
		}

		@Override
		public boolean changeReimbursementStatus(int id, REIMBURSEMENT_STATUS status) {
			// UPDATE banksysdb.tbl_reimbursement SET submitEmp=NULL, approveEmp=NULL,
			// amount=0, status=0, postDate='0000-00-00 00:00:00', reason=NULL, comment=NULL
			// WHERE ID=0;
			int result = 0;
			try (Connection con = DBConnectionUtil.openCon();
					PreparedStatement ps = con
							.prepareStatement("UPDATE banksysdb.tbl_reimbursement SET status=? WHERE ID=?");) {
				ps.setInt(1, reimbursmnt.getSubmitEmp().getId());
				ps.setInt(2, reimbursmnt.getApprovalEmp().getId());
				ps.setFloat(3, reimbursmnt.getAmount());
				ps.setShort(4, reimbursmnt.getStatusValue());
				ps.setDate(5, reimbursmnt.getPostdate());
				ps.setString(6, reimbursmnt.getReason());
				ps.setString(7, reimbursmnt.getComment());
				ps.setInt(8, reimbursmnt.getId());
				result = ps.executeUpdate();
				ps.close();
				con.close();
			} catch (SQLException e) {
			} finally {
			}
			// TODO Auto-generated method stub
			return (result > 0);
		}

		@Override
		public Reimbursement addReimbursement(Reimbursement reimbursmnt) {
			// TODO Auto-generated method stub
			return null;
		}

		@Override
		public boolean updateReimbursement(Reimbursement reimbursmnt) {
//UPDATE banksysdb.tbl_reimbursement SET submitEmp=NULL, approveEmp=NULL, amount=0, status=0, postDate='0000-00-00 00:00:00', reason=NULL, comment=NULL WHERE ID=0;
			int result = 0;
			try (Connection con = DBConnectionUtil.openCon();
					PreparedStatement ps = con.prepareStatement(
							"UPDATE banksysdb.tbl_reimbursement SET submitEmp=?, approveEmp=?, amount=?, status=?, postDate=?, reason=?, comment=? WHERE ID=?");) {
				ps.setInt(1, reimbursmnt.getSubmitEmp().getId());
				ps.setInt(2, reimbursmnt.getApprovalEmp().getId());
				ps.setFloat(3, reimbursmnt.getAmount());
				ps.setShort(4, reimbursmnt.getStatusValue());
				ps.setDate(5, reimbursmnt.getPostdate());
				ps.setString(6, reimbursmnt.getReason());
				ps.setString(7, reimbursmnt.getComment());
				ps.setInt(8, reimbursmnt.getId());
				result = ps.executeUpdate();
				ps.close();
				con.close();
			} catch (SQLException e) {
			} finally {
			}
			// TODO Auto-generated method stub
			return (result > 0);
		}

		@Override
		public float getTotalRequestsByMangerId(int id) {
			// TODO Auto-generated method stub
			return 0;
		}

		@Override
		public float getTotalDeniedMoneyByMangerId(int id) {
			// TODO Auto-generated method stub
			return 0;
		}

		@Override
		public float getTotalApprovedMoneyByMangerId(int id) {
			// TODO Auto-generated method stub
			return 0;
		}

		@Override
		public float getTotalApprovedGroupByManger() {
			// TODO Auto-generated method stub
			return 0;
		}

		@Override
		public Reimbursement getReimbursementById(int id) {
			// TODO Auto-generated method stub
			return null;
		}

		@Override
		public float getMaxRequestsByEmpId(int id) {
			// TODO Auto-generated method stub
			return 0;
		}

		@Override
		public float getAvgReimbursements() {
			// TODO Auto-generated method stub
			return 0;
		}

		@Override
		public ArrayList<Reimbursement> getAllReimbursementsByEmployeeId(int employeeId) {
			// TODO Auto-generated method stub
			return null;
		}

		@Override
		public ArrayList<Reimbursement> getAllReimbursementsByApproverId(int approverId) {
			// TODO Auto-generated method stub
			return null;
		}

	};
}
